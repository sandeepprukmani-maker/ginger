<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Browser Automation</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1><i data-feather="cpu"></i> AI Browser Automation</h1>
            <p class="subtitle">AI-Powered Browser Automation with Multiple Engines</p>
        </header>

        <div class="main-content">
            <!-- Left Panel: Configuration & Input -->
            <div class="left-panel">
                <!-- Engine Configuration -->
                <div class="config-section">
                    <h3><i data-feather="settings"></i> Configuration</h3>
                    
                    <div class="config-group">
                        <label for="engine-select">Automation Engine</label>
                        <select id="engine-select" class="config-select">
                            <option value="browser_use" selected>Browser-Use (AI-Powered - Recommended)</option>
                            <option value="playwright_mcp">Playwright MCP (Tool-Based)</option>
                        </select>
                        <p class="config-help">Browser-Use uses AI for intelligent automation, Playwright MCP uses discrete tool calls</p>
                    </div>

                    <div class="config-group">
                        <label class="toggle-label">
                            <input type="checkbox" id="headless-toggle">
                            <span class="toggle-slider"></span>
                            <span class="toggle-text">Headless Mode</span>
                        </label>
                        <p class="config-help">Headless = invisible browser (faster), Headful = visible browser (default)</p>
                    </div>
                </div>

                <!-- Instruction Panel -->
                <div class="instruction-section">
                    <h3><i data-feather="edit-3"></i> Your Instruction</h3>
                    <textarea 
                        id="instruction-input" 
                        placeholder="Describe what you want to automate... For example:&#10;• Go to Google and search for 'AI automation'&#10;• Navigate to GitHub trending repos&#10;• Open Reddit and find top posts"
                        rows="6"
                    ></textarea>
                    
                    <div class="button-group">
                        <button id="execute-btn" class="btn btn-primary">
                            <span class="btn-icon"><i data-feather="play"></i></span>
                            <span class="btn-text">Execute</span>
                            <span class="spinner" style="display: none;"></span>
                        </button>
                        <button id="reset-btn" class="btn btn-secondary">
                            <span class="btn-icon"><i data-feather="refresh-cw"></i></span>
                            Reset
                        </button>
                    </div>
                </div>

                <!-- Quick Examples -->
                <div class="examples-section">
                    <h4><i data-feather="lightbulb"></i> Quick Examples</h4>
                    <div class="example-buttons">
                        <button class="example-btn" data-instruction="Go to example.com">Simple Navigation</button>
                        <button class="example-btn" data-instruction="Go to google.com and search for 'browser automation'">Google Search</button>
                        <button class="example-btn" data-instruction="Navigate to github.com/trending">GitHub Trending</button>
                    </div>
                </div>
            </div>

            <!-- Right Panel: Results & Logs -->
            <div class="right-panel">
                <div class="results-header">
                    <h3><i data-feather="bar-chart-2"></i> Execution Results</h3>
                    <div id="status-badge" class="status-badge"></div>
                </div>
                
                <div id="status" class="status"></div>
                
                <div id="results" class="results-container">
                    <div class="empty-state">
                        <div class="empty-icon"><i data-feather="zap"></i></div>
                        <p>Enter an instruction and click Execute to begin automation</p>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <div class="footer-content">
                <p>Powered by OpenAI GPT-4o-mini, Playwright, and browser-use</p>
                <div class="footer-links">
                    <span class="engine-info">Current: <strong id="current-engine">Browser-Use</strong></span>
                    <span class="mode-info">Mode: <strong id="current-mode">Headful</strong></span>
                </div>
            </div>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            feather.replace();
        });
    </script>
</body>
</html>
