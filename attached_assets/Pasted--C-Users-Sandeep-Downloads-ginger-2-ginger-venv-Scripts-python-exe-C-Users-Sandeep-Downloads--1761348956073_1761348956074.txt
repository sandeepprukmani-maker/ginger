"C:\Users\Sandeep\Downloads\ginger (2)\ginger\.venv\Scripts\python.exe" "C:\Users\Sandeep\Downloads\ginger (2)\ginger\main.py" 
INFO     [app] üöÄ Starting AI Browser Automation application
WARNING  [app] ‚ö†Ô∏è  SESSION_SECRET not set! Using ephemeral random key for local dev.
WARNING  [app] ‚ö†Ô∏è  Set SESSION_SECRET environment variable for production!
INFO     [app] üìù Using SQLite database for local development
INFO     [app] ‚úÖ Database initialized successfully
INFO     [app] üîí CORS configured with origins: ['*']
INFO     [app] üì¶ Initializing Engine Orchestrator
INFO     [app] üîó Registering API routes
INFO     [app] ‚úÖ Application initialization complete
================================================================================
üöÄ AI BROWSER AUTOMATION - STARTING UP
================================================================================

‚ö†Ô∏è  WARNING: OPENAI_API_KEY environment variable is not set.
   The application will start but AI features will not work.
   Please set the OPENAI_API_KEY in your Replit Secrets.


üåê Starting Flask web server on port 5000...
================================================================================

üí° TIP: Keep this console window open to see automation logs

 * Serving Flask app 'app'
 * Debug mode: on
INFO     [werkzeug] WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.0.150:5000
INFO     [werkzeug] Press CTRL+C to quit
INFO     [werkzeug] 127.0.0.1 - - [25/Oct/2025 05:05:10] "GET / HTTP/1.1" 200 -
INFO     [werkzeug] 127.0.0.1 - - [25/Oct/2025 05:05:10] "GET /static/css/dark-theme.css HTTP/1.1" 200 -
INFO     [werkzeug] 127.0.0.1 - - [25/Oct/2025 05:05:10] "GET /static/js/navigation.js HTTP/1.1" 200 -
INFO     [werkzeug] 127.0.0.1 - - [25/Oct/2025 05:05:10] "GET /static/js/dashboard.js HTTP/1.1" 200 -
INFO     [werkzeug] 127.0.0.1 - - [25/Oct/2025 05:05:10] "GET /favicon.ico HTTP/1.1" 204 -
WARNING  [app.middleware.security] ‚ö†Ô∏è  API_KEY not set - authentication disabled (development mode)
INFO     [app.routes.api] ================================================================================
INFO     [app.routes.api] üì® NEW AUTOMATION REQUEST (STREAMING)
INFO     [app.routes.api] üìù Instruction: open google search for dog.
INFO     [app.routes.api] üîß Engine: playwright_mcp
INFO     [app.routes.api] üëÅÔ∏è  Headless: False
INFO     [app.routes.api] üåê Client: 127.0.0.1
INFO     [app.routes.api] ================================================================================
INFO     [werkzeug] 127.0.0.1 - - [25/Oct/2025 05:05:28] "POST /api/execute/stream HTTP/1.1" 200 -
Exception in thread Thread-7 (execute_in_thread):
Traceback (most recent call last):
  File "C:\Users\Sandeep\AppData\Local\Programs\Python\Python311\Lib\threading.py", line 1045, in _bootstrap_inner
ERROR    [app.services.engine_orchestrator] Engine execution error (playwright_mcp): OpenAI API key must be set as OPENAI_API_KEY environment variable. Never store API keys in config files for security reasons.
Traceback (most recent call last):
  File "C:\Users\Sandeep\Downloads\ginger (2)\ginger\app\services\engine_orchestrator.py", line 99, in execute_instruction
    client, agent = self.get_playwright_engine(headless)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (2)\ginger\app\services\engine_orchestrator.py", line 36, in get_playwright_engine
    mcp_client, browser_agent = playwright_mcp_codebase.create_engine(headless=headless)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (2)\ginger\app\engines\playwright_mcp\__init__.py", line 20, in create_engine
    browser_agent = BrowserAgent(mcp_client)
                    ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (2)\ginger\app\engines\playwright_mcp\agent\conversation_agent.py", line 36, in __init__
    raise ValueError("OpenAI API key must be set as OPENAI_API_KEY environment variable. Never store API keys in config files for security reasons.")
ValueError: OpenAI API key must be set as OPENAI_API_KEY environment variable. Never store API keys in config files for security reasons.
ERROR    [app.routes.api] üí• Exception in threaded execution: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
Traceback (most recent call last):
  File "C:\Users\Sandeep\Downloads\ginger (2)\ginger\app\routes\api.py", line 265, in execute_in_thread
    save_execution_to_history(instruction, engine_type, headless, result)
  File "C:\Users\Sandeep\Downloads\ginger (2)\ginger\app\routes\api.py", line 58, in save_execution_to_history
    db.session.rollback()
  File "C:\Users\Sandeep\Downloads\ginger (2)\ginger\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1779, in rollback
    return self._proxied.rollback()
           ^^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (2)\ginger\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 195, in _proxied
    return self.registry()
           ^^^^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (2)\ginger\.venv\Lib\site-packages\sqlalchemy\util\_collections.py", line 634, in __call__
    key = self.scopefunc()
          ^^^^^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (2)\ginger\.venv\Lib\site-packages\flask_sqlalchemy\session.py", line 111, in _app_ctx_id
    return id(app_ctx._get_current_object())  # type: ignore[attr-defined]
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (2)\ginger\.venv\Lib\site-packages\werkzeug\local.py", line 519, in _get_current_object
    raise RuntimeError(unbound_message) from None
RuntimeError: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
    self.run()
  File "C:\Users\Sandeep\AppData\Local\Programs\Python\Python311\Lib\threading.py", line 982, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Users\Sandeep\Downloads\ginger (2)\ginger\app\routes\api.py", line 275, in execute_in_thread
    save_execution_to_history(instruction, engine_type, headless, error_result)
  File "C:\Users\Sandeep\Downloads\ginger (2)\ginger\app\routes\api.py", line 58, in save_execution_to_history
    db.session.rollback()
  File "C:\Users\Sandeep\Downloads\ginger (2)\ginger\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1779, in rollback
    return self._proxied.rollback()
           ^^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (2)\ginger\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 195, in _proxied
    return self.registry()
           ^^^^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (2)\ginger\.venv\Lib\site-packages\sqlalchemy\util\_collections.py", line 634, in __call__
    key = self.scopefunc()
          ^^^^^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (2)\ginger\.venv\Lib\site-packages\flask_sqlalchemy\session.py", line 111, in _app_ctx_id
    return id(app_ctx._get_current_object())  # type: ignore[attr-defined]
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (2)\ginger\.venv\Lib\site-packages\werkzeug\local.py", line 519, in _get_current_object
    raise RuntimeError(unbound_message) from None
RuntimeError: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
