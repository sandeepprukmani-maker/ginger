(.venv) PS C:\Users\Sandeep\Downloads\ginger (1) 2\ginger> python .\main.py
INFO     [application] Starting Self-Healing Browser Automation System
INFO     [werkzeug]  * Restarting with stat
INFO     [application] Starting Self-Healing Browser Automation System
(21492) wsgi starting up on http://127.0.0.1:5000
(21492) accepted ('127.0.0.1', 63848)
127.0.0.1 - - [24/Oct/2025 04:06:20] "GET / HTTP/1.1" 200 12259 0.009005
127.0.0.1 - - [24/Oct/2025 04:06:20] "GET /socket.io/?EIO=4&transport=polling&t=PeJDqBj HTTP/1.1" 200 300 0.000000
127.0.0.1 - - [24/Oct/2025 04:06:20] "GET /static/css/style.css HTTP/1.1" 304 202 0.078672
(21492) accepted ('127.0.0.1', 63850)
(21492) accepted ('127.0.0.1', 63851)
(21492) accepted ('127.0.0.1', 63852)
INFO     [application] Client connected
127.0.0.1 - - [24/Oct/2025 04:06:20] "POST /socket.io/?EIO=4&transport=polling&t=PeJDqCO&sid=zsAMXijd3s8o7al3AAAA HTTP/1.1" 200 219 0.004080
127.0.0.1 - - [24/Oct/2025 04:06:20] "GET /static/js/app.js HTTP/1.1" 304 200 0.001999
127.0.0.1 - - [24/Oct/2025 04:06:20] "GET /socket.io/?EIO=4&transport=polling&t=PeJDqCP&sid=zsAMXijd3s8o7al3AAAA HTTP/1.1" 200 181 0.000000
127.0.0.1 - - [24/Oct/2025 04:06:20] "GET /socket.io/?EIO=4&transport=polling&t=PeJDqEf HTTP/1.1" 200 300 0.000000
127.0.0.1 - - [24/Oct/2025 04:06:20] "GET /api/tasks HTTP/1.1" 200 2555 0.007607
127.0.0.1 - - [24/Oct/2025 04:06:20] "GET /api/stats HTTP/1.1" 200 384 0.017634
(21492) accepted ('127.0.0.1', 63853)
127.0.0.1 - - [24/Oct/2025 04:06:20] "POST /socket.io/?EIO=4&transport=polling&t=PeJDqFP&sid=IhznyJitTnVzOUMoAAAC HTTP/1.1" 200 219 0.001001
127.0.0.1 - - [24/Oct/2025 04:06:20] "GET /socket.io/?EIO=4&transport=polling&t=PeJDqFQ&sid=IhznyJitTnVzOUMoAAAC HTTP/1.1" 200 262 0.001999
127.0.0.1 - - [24/Oct/2025 04:06:20] "GET /socket.io/?EIO=4&transport=polling&t=PeJDqFp&sid=IhznyJitTnVzOUMoAAAC HTTP/1.1" 200 181 0.000000
INFO     [application] Client disconnected
127.0.0.1 - - [24/Oct/2025 04:06:22] "GET /socket.io/?EIO=4&transport=websocket&sid=zsAMXijd3s8o7al3AAAA HTTP/1.1" 200 0 2.010135
127.0.0.1 - - [24/Oct/2025 04:06:25] "GET /api/tasks/4 HTTP/1.1" 200 731 0.002992
127.0.0.1 - - [24/Oct/2025 04:06:25] "GET /api/tasks/4/healing HTTP/1.1" 200 1363 0.002999
127.0.0.1 - - [24/Oct/2025 04:06:30] "GET /api/stats HTTP/1.1" 200 384 0.000000
(.venv) PS C:\Users\Sandeep\Downloads\ginger (1) 2\ginger> playwright install chromium
(.venv) PS C:\Users\Sandeep\Downloads\ginger (1) 2\ginger> playwright uninstall
Successfully uninstalled Playwright browsers for the current Playwright installation.
There are still 13 browsers left, used by other Playwright installations.
To uninstall Playwright browsers for all installations, re-run with --all flag.
(.venv) PS C:\Users\Sandeep\Downloads\ginger (1) 2\ginger> playwright uninstall --all                                                                                                                                               
Removing unused browser at C:\Users\Sandeep\AppData\Local\ms-playwright\chromium-1179
Removing unused browser at C:\Users\Sandeep\AppData\Local\ms-playwright\chromium-1187
Removing unused browser at C:\Users\Sandeep\AppData\Local\ms-playwright\chromium_headless_shell-1179
Removing unused browser at C:\Users\Sandeep\AppData\Local\ms-playwright\chromium_headless_shell-1187
Removing unused browser at C:\Users\Sandeep\AppData\Local\ms-playwright\chromium_headless_shell-1194
Removing unused browser at C:\Users\Sandeep\AppData\Local\ms-playwright\ffmpeg-1011
Removing unused browser at C:\Users\Sandeep\AppData\Local\ms-playwright\firefox-1488
    + CategoryInfo          : ObjectNotFound: (y:String) [], CommandNotFoundException                                                                                                                                               
    + FullyQualifiedErrorId : CommandNotFoundException                                                                                                                                                                              
                                                                                                                                                                                                                                    
(.venv) PS C:\Users\Sandeep\Downloads\ginger (1) 2\ginger> playwright install chromium
Downloading Chromium 140.0.7339.16 (playwright build v1187) from https://cdn.playwright.dev/dbazure/download/playwright/builds/chromium/1187/chromium-win64.zip
148.9 MiB [====================] 100% 0.0s
Chromium 140.0.7339.16 (playwright build v1187) downloaded to C:\Users\Sandeep\AppData\Local\ms-playwright\chromium-1187
Downloading FFMPEG playwright build v1011 from https://cdn.playwright.dev/dbazure/download/playwright/builds/ffmpeg/1011/ffmpeg-win64.zip
1.3 MiB [====================] 100% 0.0s
FFMPEG playwright build v1011 downloaded to C:\Users\Sandeep\AppData\Local\ms-playwright\ffmpeg-1011
Downloading Chromium Headless Shell 140.0.7339.16 (playwright build v1187) from https://cdn.playwright.dev/dbazure/download/playwright/builds/chromium/1187/chromium-headless-shell-win64.zip
91.3 MiB [====================] 100% 0.0s
Chromium Headless Shell 140.0.7339.16 (playwright build v1187) downloaded to C:\Users\Sandeep\AppData\Local\ms-playwright\chromium_headless_shell-1187
(.venv) PS C:\Users\Sandeep\Downloads\ginger (1) 2\ginger> python .\main.py
INFO     [application] Starting Self-Healing Browser Automation System
INFO     [werkzeug]  * Restarting with stat
INFO     [application] Starting Self-Healing Browser Automation System
WARNING  [werkzeug]  * Debugger is active!
INFO     [werkzeug]  * Debugger PIN: 897-783-920
(21132) wsgi starting up on http://127.0.0.1:5000
(21132) accepted ('127.0.0.1', 64037)
127.0.0.1 - - [24/Oct/2025 04:08:08] "GET /socket.io/?EIO=4&transport=polling&t=PeJEEJf HTTP/1.1" 200 300 0.000000
INFO     [application] Client connected
127.0.0.1 - - [24/Oct/2025 04:08:08] "POST /socket.io/?EIO=4&transport=polling&t=PeJEEdj&sid=h--nTg__aba_HN6jAAAA HTTP/1.1" 200 219 0.000000
(21132) accepted ('127.0.0.1', 64039)
(21132) accepted ('127.0.0.1', 64040)
127.0.0.1 - - [24/Oct/2025 04:08:08] "GET /socket.io/?EIO=4&transport=polling&t=PeJEEdj.0&sid=h--nTg__aba_HN6jAAAA HTTP/1.1" 200 181 0.000000
127.0.0.1 - - [24/Oct/2025 04:08:08] "GET /socket.io/?EIO=4&transport=polling&t=PeJEEdo&sid=h--nTg__aba_HN6jAAAA HTTP/1.1" 200 181 0.000235
(21132) accepted ('127.0.0.1', 64036)
127.0.0.1 - - [24/Oct/2025 04:08:10] "GET / HTTP/1.1" 200 12259 0.012003
127.0.0.1 - - [24/Oct/2025 04:08:10] "GET /static/css/style.css HTTP/1.1" 304 202 0.062316
127.0.0.1 - - [24/Oct/2025 04:08:10] "GET /static/js/app.js HTTP/1.1" 304 200 0.000997
127.0.0.1 - - [24/Oct/2025 04:08:10] "GET /socket.io/?EIO=4&transport=polling&t=PeJEF6w HTTP/1.1" 200 300 0.000000
127.0.0.1 - - [24/Oct/2025 04:08:10] "GET /api/tasks HTTP/1.1" 200 2555 0.006000
127.0.0.1 - - [24/Oct/2025 04:08:10] "GET /api/stats HTTP/1.1" 200 384 0.019105
(21132) accepted ('127.0.0.1', 64045)
INFO     [application] Client connected
127.0.0.1 - - [24/Oct/2025 04:08:10] "POST /socket.io/?EIO=4&transport=polling&t=PeJEF7g&sid=wb59pJcXKmz4yQzxAAAC HTTP/1.1" 200 219 0.000000
127.0.0.1 - - [24/Oct/2025 04:08:10] "GET /socket.io/?EIO=4&transport=polling&t=PeJEF7h&sid=wb59pJcXKmz4yQzxAAAC HTTP/1.1" 200 262 0.002002
127.0.0.1 - - [24/Oct/2025 04:08:10] "GET /socket.io/?EIO=4&transport=polling&t=PeJEF86&sid=wb59pJcXKmz4yQzxAAAC HTTP/1.1" 200 181 0.000000
INFO     [application] Client disconnected
127.0.0.1 - - [24/Oct/2025 04:08:11] "GET /socket.io/?EIO=4&transport=websocket&sid=h--nTg__aba_HN6jAAAA HTTP/1.1" 200 0 3.451953
127.0.0.1 - - [24/Oct/2025 04:08:15] "GET /api/tasks/4/healing HTTP/1.1" 200 1363 0.005912
127.0.0.1 - - [24/Oct/2025 04:08:15] "GET /api/tasks/4/logs HTTP/1.1" 200 870 0.005058
127.0.0.1 - - [24/Oct/2025 04:08:15] "GET /api/tasks/4 HTTP/1.1" 200 731 0.007369
127.0.0.1 - - [24/Oct/2025 04:08:20] "GET /api/stats HTTP/1.1" 200 384 0.000000
INFO     [application] Task 5 created: go to google.com search for sandeep. (headless=True)
INFO     [app.services.healing_orchestrator] Starting execution of task 5: go to google.com search for sandeep.
INFO     [app.services.browser_use_service] Browser-use service initialized with wrapped ChatOpenAI
INFO     [app.services.browser_use_service] Initializing browser in headless mode
ERROR    [app.services.browser_use_service] Error initializing browser-use service: BrowserSession.__init__() got an unexpected keyword argument 'config'
INFO     [app.services.browser_use_service] Executing instruction: go to google.com search for sandeep.
INFO     [service] Using anonymized telemetry, see https://docs.browser-use.com/development/telemetry.
INFO     [Agent] 🔗 Found URL in task: https://google.com, adding as initial action...
INFO     [Agent] 🎯 Task: go to google.com search for sandeep.                                                                                                                                                                      

IMPORTANT: Complete ONLY the instruction given above and then STOP immediately. Do not perform any additional actions like extracting data, scrolling further, or navigating to other pages unless explicitly requested in the instruction. You can make any auxiliary decisions needed to complete the instruction itself (like handling popups, accepting cookies, etc.), but do not go beyond what was asked.
INFO     [Agent] Starting a browser-use agent with version 0.9.0, with provider=openai and model=gpt-4o-mini
WARNING  [bubus] ⚠️ EventBus_76173402🟢(⏳ 0 | ▶️ 2 | ✅ 0 ➡️ 30 👂) handler browser_use.browser.watchdog_base.BrowserSession.on_BrowserStartEvent() has been running for >15s on event. Possible slow processing or deadlock.
(handler could be trying to await its own result or could be blocked by another async task).
browser_use.browser.watchdog_base.BrowserSession.on_BrowserStartEvent(?▶ BrowserStartEvent#7aad 🏃)
WARNING  [bubus] ⚠️ EventBus_76173402🟢(⏳ 0 | ▶️ 2 | ✅ 0 ➡️ 30 👂) handler browser_use.browser.watchdog_base.LocalBrowserWatchdog.on_BrowserLaunchEvent() has been running for >15s on event. Possible slow processing or deadlock k.
(handler could be trying to await its own result or could be blocked by another async task).
browser_use.browser.watchdog_base.LocalBrowserWatchdog.on_BrowserLaunchEvent(?▶ BrowserLaunchEvent#6a24 🏃)
WARNING  [bubus] ================================================================================
WARNING  [bubus] ⏱️  TIMEOUT ERROR - Handling took more than 30.0s for EventBus_76173402.browser_use.browser.watchdog_base.BrowserSession.on_BrowserStartEvent(?▶ BrowserStartEvent#7aad ✅)
WARNING  [bubus] ================================================================================
WARNING  [bubus] 📣 BrowserStartEvent#7aad                                              30s                                                                                                                                         
WARNING  [bubus]    ⏰ browser_use.browser.watchdog_base.BrowserSession.on_BrowserStartEvent(#7aad) ⌛️ 30s/30s   ⬅️ TIMEOUT HERE ⏰
WARNING  [bubus]       📣 BrowserLaunchEvent#6a24                                       30s                                                                                                                                         
WARNING  [bubus]          ☑️ browser_use.browser.watchdog_base.DownloadsWatchdog.on_BrowserLaunchEvent(#6a24)     0s/30s   ✓
WARNING  [bubus]          ➡️ browser_use.browser.watchdog_base.LocalBrowserWatchdog.on_BrowserLaunchEvent(#6a24) ⏳ 30s/30s   ⬅️ INTERRUPTED ✂️
WARNING  [bubus]
================================================================================

ERROR    [Agent] Agent run failed with exception: Event handler browser_use.browser.watchdog_base.BrowserSession.on_BrowserStartEvent#6064(?▶ BrowserStartEvent#7aad 🏃) timed out after 30.0s and interrupted any processing of 1 child events
Traceback (most recent call last):
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\bubus\service.py", line 1128, in execute_handler
    result_value: Any = await asyncio.wait_for(handler_task, timeout=event_result.timeout)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\tasks.py", line 476, in wait_for
    await waiter
asyncio.exceptions.CancelledError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\tasks.py", line 500, in wait_for
    return fut.result()
           ^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\browser_use\browser\watchdog_base.py", line 108, in unique_handler
    result = await actual_handler(event)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\browser_use\observability.py", line 73, in async_wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\browser_use\browser\session.py", line 532, in on_BrowserStartEvent
    await launch_event
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\bubus\models.py", line 313, in wait_for_handlers_to_complete_then_return_event
    await bus.process_event(event)
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\bubus\service.py", line 976, in process_event
    await self._execute_handlers(event, handlers=applicable_handlers, timeout=timeout)
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\bubus\service.py", line 1070, in _execute_handlers
    await self.execute_handler(event, handler, timeout=timeout)
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\bubus\service.py", line 1174, in execute_handler
    raise handler_interrupted_error from e
asyncio.exceptions.CancelledError: Event handler browser_use.browser.watchdog_base.LocalBrowserWatchdog.on_BrowserLaunchEvent#9328(?▶ BrowserLaunchEvent#6a24 🏃) was interrupted because of a parent timeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\bubus\service.py", line 1128, in execute_handler
    result_value: Any = await asyncio.wait_for(handler_task, timeout=event_result.timeout)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\tasks.py", line 502, in wait_for
    raise exceptions.TimeoutError() from exc
TimeoutError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\browser_use\agent\service.py", line 1524, in run
    await self.browser_session.start()
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\browser_use\observability.py", line 73, in async_wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\browser_use\browser\session.py", line 459, in start
    await start_event.event_result(raise_if_any=True, raise_if_none=False)
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\bubus\models.py", line 574, in event_result
    valid_results = await self.event_results_filtered(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\bubus\models.py", line 516, in event_results_filtered
    raise original_error
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\bubus\models.py", line 490, in event_results_filtered
    await event_result
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\bubus\models.py", line 889, in wait_for_handler_to_complete_and_return_result
    raise self.error if isinstance(self.error, BaseException) else Exception(self.error)  # pyright: ignore[reportUnnecessaryIsInstance]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\bubus\service.py", line 1070, in _execute_handlers
    await self.execute_handler(event, handler, timeout=timeout)
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\bubus\service.py", line 1194, in execute_handler
    raise handler_timeout_error from e
TimeoutError: Event handler browser_use.browser.watchdog_base.BrowserSession.on_BrowserStartEvent#6064(?▶ BrowserStartEvent#7aad 🏃) timed out after 30.0s and interrupted any processing of 1 child events
ERROR    [BrowserSession] 🚌 [StorageStateWatchdog.on_SaveStorageStateEvent(#a2f9)] ❌ Failed (0.00s): AssertionError: CDP URL not set - browser may not be configured or launched yet
ERROR    [BrowserSession] 🚌 [StorageStateWatchdog.on_SaveStorageStateEvent(#a2f9)] ❌ CDP connected but failed to re-create CDP session after error "AssertionError: CDP URL not set - browser may not be configured or launched yeet" in on_SaveStorageStateEvent(SaveStorageStateEvent#a2f9): due to AssertionError: CDP URL not set - browser may not be configured or launched yet

ERROR    [bubus] ❌ EventBus_76173402🟢(⏳ 0 | ▶️ 0 | ✅ 3 ➡️ 30 👂) Error in event handler browser_use.browser.watchdog_base.StorageStateWatchdog.on_SaveStorageStateEvent(?▶ SaveStorageStateEvent#a2f9 ✅) ->
AssertionError(CDP URL not set - browser may not be configured or launched yet)
Traceback (most recent call last):
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\bubus\service.py", line 1128, in execute_handler
    result_value: Any = await asyncio.wait_for(handler_task, timeout=event_result.timeout)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\tasks.py", line 489, in wait_for
    return fut.result()
           ^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\browser_use\browser\watchdog_base.py", line 108, in unique_handler
    result = await actual_handler(event)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\browser_use\browser\watchdogs\storage_state_watchdog.py", line 73, in on_SaveStorageStateEvent
    await self._save_storage_state(path)
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\browser_use\browser\watchdogs\storage_state_watchdog.py", line 168, in _save_storage_state
    assert await self.browser_session.get_or_create_cdp_session(target_id=None, new_socket=False)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Sandeep\Downloads\ginger (1) 2\ginger\.venv\Lib\site-packages\browser_use\browser\session.py", line 1052, in get_or_create_cdp_session
    assert self.cdp_url is not None, 'CDP URL not set - browser may not be configured or launched yet'
           ^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: CDP URL not set - browser may not be configured or launched yet

WARNING  [bubus] ⌛️ EventBus_76173402🟢(⏳ 0 | ▶️ 0 | ✅ 5 ➡️ 30 👂) Timeout waiting for event bus to be idle after 5s (processing: 0)
ERROR    [app.services.browser_use_service] Task execution timed out after 3 minutes
WARNING  [app.services.healing_orchestrator] Initial execution failed, attempting healing: Task execution timed out. The browser may be slow to start on your system. Please ensure Playwright browsers are installed.
INFO     [app.services.healing_orchestrator] Starting healing flow for task 5
INFO     [app.services.healing_orchestrator] Attempting browser-use healing, retry 1/2
INFO     [app.services.browser_use_service] Executing instruction: go to google.com search for sandeep.
INFO     [Agent] 🔗 Found URL in task: https://google.com, adding as initial action...
INFO     [Agent] 🎯 Task: go to google.com search for sandeep.                                                                                                                                                                      
